"use strict";(self.webpackChunkss_react=self.webpackChunkss_react||[]).push([[198],{7659:(e,s,a)=>{a.d(s,{n:()=>l});var t=a(1087),r=a(7689),i=a(184);const l=e=>{let{userData:s}=e;const a=(0,r.s0)();return(0,i.jsx)(i.Fragment,{children:s._id?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.rU,{to:"/user/dashboard/profile",className:"dropdown-item",children:"Profile"}),(0,i.jsx)(t.rU,{to:"/user/dashboard/cart",className:"dropdown-item",children:"Checkout"}),(0,i.jsx)("div",{className:"dropdown-item",onClick:()=>{localStorage.removeItem("usertoken"),a("/")},children:"Sign Out"})]}):(0,i.jsx)(t.rU,{to:"/user/login",className:"dropdown-item",children:"Login"})})}},9092:(e,s,a)=>{a.d(s,{Z:()=>l});var t=a(3543),r=a(9658),i=a(184);const l=e=>{const{snackopen:s,setSnackOpen:a}=e,l=(e,s)=>{"clickaway"!==s&&a({open:!1,severity:void 0,message:""})};return s.open&&(0,i.jsx)(t.Z,{open:s.open,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,i.jsx)(r.Z,{onClose:l,severity:s.severity,sx:{width:"100%"},children:s.message})})}},5198:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var t=a(2267),r=a(2791),i=a(4270),l=a(7689),n=a(1087),o=a(1134),c=a(9092),d=a(7659),m=a(184);const u=e=>new Promise(((s,a)=>{const t=new FileReader;t.readAsDataURL(e),t.onload=()=>{s(t.result)},t.onerror=e=>{a(e)}})),h=()=>{var e,s,a,h,p,g,x,j;const v=(0,l.s0)(),[y,N]=(0,r.useState)({}),[f,b]=(0,r.useState)(""),{register:w,handleSubmit:Z,formState:{errors:k,isValid:S},unregister:P,setValue:U}=(0,o.cI)({mode:"onChange"}),[C,_]=(0,r.useState)(!1),[F,B]=(0,r.useState)({open:!1,severity:void 0,message:""}),[q,E]=(0,r.useState)([]);(0,r.useEffect)((()=>{!async function(){if(localStorage.getItem("usertoken"))try{const e=await(0,t.H1)(String(localStorage.getItem("usertoken")));if("Failed"===e.data.status)v("/user/login");else{const{_id:s,fullName:a,email:t,phoneNumber:r,image:i}=e.data.userData;N({_id:s,fullName:a,email:t,phoneNumber:r,image:i}),b(i),P("image"),U("fullName",a),U("email",t),U("phoneNumber",r),O(s)}}catch(e){B({open:!0,severity:"warning",message:e.message})}else v("/user/login")}()}),[v,U,P]);const O=async e=>{try{const s=await(0,t.UK)(e);if("Success"===s.data.status){let e=s.data.cartData;E(e)}}catch(s){B({open:!0,severity:"warning",message:s.message})}};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(i.q,{children:[(0,m.jsx)("title",{children:"Profile"}),(0,m.jsx)("link",{rel:"stylesheet",href:"/assets/css/Profile.css"})]}),(0,m.jsxs)("section",{id:"wrapper",children:[(0,m.jsx)("header",{className:"shadow ",children:(0,m.jsx)("div",{className:"container",children:(0,m.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-between justify-content-lg-between",children:[(0,m.jsx)("div",{className:"col-md-5",children:(0,m.jsx)("h1",{children:(0,m.jsxs)(n.rU,{to:"/user/dashboard",className:"d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none",children:[(0,m.jsx)("span",{className:"logo_ic"}),(0,m.jsx)("span",{className:"logo_txt",children:"SMART STORE"})]})})}),(0,m.jsxs)("div",{className:"mobiBar",children:[(0,m.jsxs)("button",{className:"btn btn-primary",onClick:()=>v("/user/dashboard/products"),children:[(0,m.jsx)("i",{className:"fa-regular fa-compass"})," Explore"]}),(0,m.jsxs)("button",{id:"userProf",className:"transBtn",onClick:()=>v("/user/dashboard/profile"),children:[(0,m.jsx)("i",{className:"fa-regular fa-user"}),(0,m.jsx)("span",{children:"Profile"})]}),(0,m.jsxs)("button",{id:"ordersMenu",className:"transBtn",onClick:()=>v("/user/dashboard/orders"),children:[(0,m.jsx)("i",{className:"fa-regular fa-file-lines"}),(0,m.jsx)("span",{children:"Orders"})]}),(0,m.jsxs)("button",{id:"cartAdd",className:"transBtn",onClick:()=>v("/user/dashboard/cart"),children:[(0,m.jsx)("b",{children:null===q||void 0===q?void 0:q.length}),(0,m.jsx)("i",{className:"fa-solid fa-cart-shopping"}),(0,m.jsx)("span",{children:"Cart"})]}),(0,m.jsxs)("div",{className:"dropdown show",children:[(0,m.jsx)("button",{id:"toggleMenu dropdown-toggle",className:"transBtn","data-toggle":"dropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,m.jsx)("i",{className:"fa-solid fa-bars"})}),(0,m.jsx)("div",{className:"dropdown-menu","aria-labelledby":"optBar",role:"menu",children:(0,m.jsx)(d.n,{userData:y})})]})]})]})})}),(0,m.jsx)("section",{id:"userProfile",children:(0,m.jsx)("div",{className:"container",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-12",children:(0,m.jsxs)("form",{className:"file-upload",onSubmit:Z((async e=>{try{let s;_(!0),e.image[0]?(e.image=await u(e.image[0]),s=await(0,t._K)(y._id,e)):(e.image="",s=await(0,t._K)(null===y||void 0===y?void 0:y._id,e)),"Failed"===s.data.status?B({open:!0,severity:"error",message:s.data.message}):B({open:!0,severity:"success",message:s.data.message}),_(!1)}catch(s){B({open:!0,severity:"warning",message:s.message}),_(!1)}})),children:[(0,m.jsxs)("div",{className:"row mb-2 gx-5",children:[(0,m.jsx)("div",{className:"col-xxl-8 mb-5 mb-xxl-0",children:(0,m.jsx)("div",{className:"bg-secondary-soft px-4 py-5 rounded",children:(0,m.jsxs)("div",{className:"row g-3",children:[(0,m.jsx)("h4",{className:"mb-4 mt-0",children:"Contact detail"}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("label",{className:"form-label",children:"Full Name"}),(0,m.jsx)("input",{type:"text",...w("fullName",{required:"Name is required"}),className:"form-control",placeholder:"","aria-label":"First name"}),Boolean(null===k||void 0===k?void 0:k.fullName)&&(0,m.jsx)("small",{className:"form-text text-danger",style:{color:"red 1important"},children:(null===k||void 0===k?void 0:k.fullName)&&(null===(e=k.fullName)||void 0===e||null===(s=e.message)||void 0===s?void 0:s.toString())})]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("label",{className:"form-label",children:"Phone number"}),(0,m.jsx)("input",{type:"number",...w("phoneNumber",{required:"Phone Number is required",minLength:{value:10,message:"Phone Number must be exactly 10 characters"}}),className:"form-control",placeholder:"","aria-label":"Phone number"}),Boolean(null===k||void 0===k?void 0:k.phoneNumber)&&(0,m.jsx)("small",{className:"form-text text-danger",style:{color:"red 1important"},children:(null===k||void 0===k?void 0:k.phoneNumber)&&(null===(a=k.phoneNumber)||void 0===a||null===(h=a.message)||void 0===h?void 0:h.toString())})]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("label",{htmlFor:"inputEmail4",className:"form-label",children:"Email"}),(0,m.jsx)("input",{type:"email",...w("email",{required:"Email is required"}),className:"form-control",id:"inputEmail4"}),Boolean(null===k||void 0===k?void 0:k.email)&&(0,m.jsx)("small",{className:"form-text text-danger",style:{color:"red 1important"},children:(null===k||void 0===k?void 0:k.email)&&(null===(p=k.email)||void 0===p||null===(g=p.message)||void 0===g?void 0:g.toString())})]})]})})}),(0,m.jsx)("div",{className:"col-xxl-4",children:(0,m.jsx)("div",{className:"bg-secondary-soft px-4 py-5 rounded",children:(0,m.jsxs)("div",{className:"row g-3",children:[(0,m.jsx)("h4",{className:"mb-4 mt-0",children:"Upload your profile photo"}),(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("div",{className:"square position-relative display-2 mb-3",children:(0,m.jsx)("label",{htmlFor:"customFile",children:(null===f||void 0===f?void 0:f.length)>0?(0,m.jsx)("img",{alt:"profile",src:null===f||void 0===f?void 0:f.toString(),className:"position-absolute top-50 start-50 translate-middle text-secondary",width:"100px",height:"auto",style:{border:"1px solid",borderRadius:"100px"}}):(0,m.jsx)("i",{className:"fas fa-fw fa-user position-absolute top-50 start-50 translate-middle text-secondary"})})}),(0,m.jsx)("input",{hidden:!0,type:"file",id:"customFile",accept:".jpg,.jpeg,.png",...w("image",{validate:{isImage:async e=>{if(0===e.length)return!0;if(["image/jpeg","image/jpg","image/png"].includes(e[0].type)){let s=await u(e[0]);return b(s),!0}return"Please upload a PNG or JPG image"}}})}),Boolean(null===k||void 0===k?void 0:k.image)&&(0,m.jsx)("small",{className:"form-text text-danger",style:{color:"red 1important"},children:(null===k||void 0===k?void 0:k.image)&&(null===(x=k.image)||void 0===x||null===(j=x.message)||void 0===j?void 0:j.toString())})]})]})})})]}),(0,m.jsx)("div",{className:"gap-3 m-3 d-md-flex justify-content-md-end text-center",children:(0,m.jsx)("button",{disabled:!S||C,type:"submit",className:"btn btn-primary ",children:"Update"})})]})})})})}),(0,m.jsx)("section",{id:"copyrights",children:(0,m.jsx)("div",{className:"container",children:(0,m.jsxs)("div",{className:"copywrap",children:[(0,m.jsxs)("p",{children:["\xa9 2023 ",(0,m.jsx)(n.rU,{to:"https://www.pmgsuperstore.com",children:"pmgsuperstore.com"}),". All rights reserved"]}),(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:(0,m.jsx)(n.rU,{to:"#",children:"Privacy Policy"})}),(0,m.jsx)("li",{children:(0,m.jsx)(n.rU,{to:"#",children:"Terms of Use"})})]})]})})})]}),(0,m.jsx)(c.Z,{snackopen:F,setSnackOpen:B})]})}},2267:(e,s,a)=>{a.d(s,{$H:()=>x,A4:()=>P,H1:()=>l,J9:()=>g,Ml:()=>j,N$:()=>r,N_:()=>m,O9:()=>d,Of:()=>u,QX:()=>o,RE:()=>w,S:()=>S,UH:()=>f,UK:()=>h,X1:()=>b,_K:()=>p,hv:()=>y,k3:()=>v,kq:()=>N,n$:()=>i,rn:()=>c,uH:()=>k,ul:()=>Z,vo:()=>n});var t=a(3878);const r=async(e,s)=>await t.Z.post("/user/register/".concat(e),s),i=async e=>await t.Z.post("/user/login",e),l=async e=>await t.Z.get("/user/dashboard/".concat(e)),n=async()=>await t.Z.get("/user/getproducts"),o=async e=>await t.Z.get("/user/getproducts/".concat(e)),c=async e=>await t.Z.get("/user/verifyotp/".concat(e)),d=async()=>await t.Z.get("/user/productcategory"),m=async(e,s)=>await t.Z.get("/user/addordeletewishlist/".concat(e,"/").concat(s)),u=async(e,s)=>await t.Z.get("/user/addordeletecart/".concat(e,"/").concat(s)),h=async e=>await t.Z.get("/user/getcart/".concat(e)),p=async(e,s)=>await t.Z.put("/user/profileupdate/".concat(e),s),g=async(e,s)=>await t.Z.post("/user/checkout/".concat(e),s),x=async e=>await t.Z.get("/user/checkout/".concat(e)),j=async()=>await t.Z.get("https://restcountries.com/v3.1/all"),v=async e=>await t.Z.get("/user/shipping/".concat(e)),y=async(e,s)=>await t.Z.post("/user/shipping/".concat(e),s),N=async e=>await t.Z.post("/user/payment/orders",e),f=async(e,s)=>await t.Z.post("/user/payment/verify/".concat(e),s),b=async e=>await t.Z.get("/user/forgotpassword/".concat(e)),w=async e=>await t.Z.get("/user/verifyforgotpassword/".concat(e)),Z=async e=>await t.Z.post("/user/updatepassword/",e),k=async e=>await t.Z.get("/user/orderlist/".concat(e)),S=async e=>await t.Z.get("/user/getorder/".concat(e)),P=async e=>await t.Z.post("/user/downloadinvoice",{orderData:e},{responseType:"blob"})}}]);
//# sourceMappingURL=198.194819d4.chunk.js.map