"use strict";(self.webpackChunkss_react=self.webpackChunkss_react||[]).push([[457],{7659:(e,s,a)=>{a.d(s,{n:()=>i});var n=a(1087),t=a(7689),r=a(184);const i=e=>{let{userData:s}=e;const a=(0,t.s0)();return(0,r.jsx)(r.Fragment,{children:s._id?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.rU,{to:"/user/dashboard/profile",className:"dropdown-item",children:"Profile"}),(0,r.jsx)(n.rU,{to:"/user/dashboard/cart",className:"dropdown-item",children:"Checkout"}),(0,r.jsx)("div",{className:"dropdown-item",onClick:()=>{localStorage.removeItem("usertoken"),a("/")},children:"Sign Out"})]}):(0,r.jsx)(n.rU,{to:"/user/login",className:"dropdown-item",children:"Login"})})}},9092:(e,s,a)=>{a.d(s,{Z:()=>i});var n=a(3543),t=a(9658),r=a(184);const i=e=>{const{snackopen:s,setSnackOpen:a}=e,i=(e,s)=>{"clickaway"!==s&&a({open:!1,severity:void 0,message:""})};return s.open&&(0,r.jsx)(n.Z,{open:s.open,autoHideDuration:6e3,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,r.jsx)(t.Z,{onClose:i,severity:s.severity,sx:{width:"100%"},children:s.message})})}},1457:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var n=a(9092),t=a(2791),r=a(4270),i=a(7689),d=a(1087),c=a(2267),o=a(1582),l=a(7047),h=a(7659),m=a(184);function u(e){let s=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(s)}const p=()=>{const e=(0,i.s0)(),{id:s}=(0,i.UO)(),[a,p]=(0,t.useState)(),[x,j]=(0,t.useState)({open:!1,severity:void 0,message:""}),[g,b]=(0,t.useState)([]),[v,w]=(0,t.useState)({});(0,t.useEffect)((()=>{!async function(){if(localStorage.getItem("usertoken"))try{const a=await(0,c.H1)(String(localStorage.getItem("usertoken")));if("Success"===a.data.status){w(a.data.userData);const{_id:e}=a.data.userData,n=await(0,c.S)(s);"Success"===n.data.status?p(n.data.orderData):j({open:!0,severity:"error",message:n.data.message});const t=await(0,c.UK)(e);if("Success"===t.data.status){let e=t.data.cartData;b(e)}}else e("/user/login")}catch(a){j({open:!0,severity:"warning",message:a.message})}else e("/user/login")}()}),[e,s]);const y=e=>e.orderedProducts.reduce(((e,s)=>e+s.quantityAndTypeAndPrice.reduce(((e,s)=>e+s.userQuantity*s.price),0)),0);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(r.q,{children:[(0,m.jsx)("title",{children:"Order"}),(0,m.jsx)("link",{rel:"stylesheet",href:"/assets/css/Order.css"})]}),(0,m.jsxs)("section",{id:"wrapper",children:[(0,m.jsx)("header",{className:"shadow ",children:(0,m.jsx)("div",{className:"container",children:(0,m.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-between justify-content-lg-between",children:[(0,m.jsx)("div",{className:"col-md-5",children:(0,m.jsx)("h1",{className:"cartTitle",children:(0,m.jsx)(d.rU,{to:"/user/dashboard/orders",className:"d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none",children:(0,m.jsxs)("span",{children:[(0,m.jsx)("i",{className:"fa-solid fa-arrow-left"})," My Orders"]})})})}),(0,m.jsxs)("div",{className:"mobiBar",children:[(0,m.jsxs)("button",{className:"btn btn-primary",onClick:()=>e("/user/dashboard/products"),children:[(0,m.jsx)("i",{className:"fa-regular fa-compass"})," Explore"]}),(0,m.jsxs)("button",{id:"userProf",className:"transBtn",onClick:()=>e("/user/dashboard/profile"),children:[(0,m.jsx)("i",{className:"fa-regular fa-user"}),(0,m.jsx)("span",{children:"Profile"})]}),(0,m.jsxs)("button",{id:"ordersMenu",className:"transBtn",onClick:()=>e("/user/dashboard/orders"),children:[(0,m.jsx)("i",{className:"fa-regular fa-file-lines"}),(0,m.jsx)("span",{children:"Orders"})]}),(0,m.jsxs)("button",{id:"cartAdd",className:"transBtn",onClick:()=>e("/user/dashboard/cart"),children:[(0,m.jsx)("b",{children:g.length}),(0,m.jsx)("i",{className:"fa-solid fa-cart-shopping"}),(0,m.jsx)("span",{children:"Cart"})]}),(0,m.jsxs)("div",{className:"dropdown show",children:[(0,m.jsx)("button",{id:"toggleMenu dropdown-toggle",className:"transBtn","data-toggle":"dropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,m.jsx)("i",{className:"fa-solid fa-bars"})}),(0,m.jsx)("div",{className:"dropdown-menu","aria-labelledby":"optBar",role:"menu",children:(0,m.jsx)(h.n,{userData:v})})]})]})]})})}),(0,m.jsx)("section",{className:"order-section mt-5 mb-3",children:(0,m.jsx)("div",{className:"container",children:(0,m.jsx)("div",{className:"container",children:a?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"d-flex justify-content-between align-items-center py-3",children:(0,m.jsxs)("h2",{className:"h5 mb-0",children:[(0,m.jsx)(d.rU,{to:"#",className:"text-muted"})," Order ",a._id]})}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-lg-8",children:[(0,m.jsx)("div",{className:"card mb-4",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsxs)("div",{className:"mb-3 d-flex justify-content-between",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{className:"me-3",children:"Ordered"===a.deliveryStatus?u(a.createdAt):u(a.updatedAt)}),(0,m.jsx)("span",{className:"me-3",children:a.paymentType}),(0,m.jsx)("span",{className:"badge rounded-pill bg-danger",children:a.deliveryStatus})]}),(0,m.jsxs)("div",{className:"d-flex",children:[(0,m.jsxs)("button",{className:"btn btn-link p-0 me-3 d-none d-lg-block btn-icon-text",children:[(0,m.jsx)("i",{className:"bi bi-download"})," ",(0,m.jsx)("span",{className:"text",children:"Invoice"})]}),(0,m.jsxs)("div",{className:"dropdown",children:[(0,m.jsx)("button",{className:"btn btn-link p-0 text-muted",type:"button","data-bs-toggle":"dropdown",children:(0,m.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,m.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end",children:[(0,m.jsx)("li",{children:(0,m.jsxs)(d.rU,{to:"#",className:"dropdown-item",children:[(0,m.jsx)("i",{className:"bi bi-pencil"}),"Edit"]})}),(0,m.jsx)("li",{children:(0,m.jsxs)(d.rU,{to:"#",className:"dropdown-item",children:[(0,m.jsx)("i",{className:"bi bi-printer"}),"Print"]})})]})]})]})]}),(0,m.jsxs)("table",{className:"table table-borderless",children:[(0,m.jsx)("tbody",{children:a.orderedProducts.map(((e,s)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:(0,m.jsxs)("div",{className:"d-flex mb-2",children:[(0,m.jsx)("div",{className:"flex-shrink-0",children:(0,m.jsx)("img",{src:e.image.toString(),alt:"",width:"65",className:"img-fluid"})}),(0,m.jsx)("div",{className:"flex-lg-grow-1 ms-3",children:(0,m.jsx)("h6",{className:"mb-0",children:(0,m.jsx)(d.rU,{to:"#",className:"text-reset",children:e.productName})})})]})}),e.quantityAndTypeAndPrice.map(((e,s)=>(0,m.jsxs)("td",{children:[e.quantity," ",e.type," x ",e.userQuantity]},s))),(0,m.jsxs)("td",{className:"text-end",children:["\u20b9 ",e.quantityAndTypeAndPrice.reduce(((e,s)=>e+s.userQuantity*s.price),0)]})]},s)))}),(0,m.jsxs)("tfoot",{children:[(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{colSpan:2,children:"Subtotal"}),(0,m.jsxs)("td",{className:"text-end",children:["\u20b9 ",y(a),".00"]})]}),(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{colSpan:2,children:"Shipping"}),(0,m.jsx)("td",{className:"text-end",children:"\u20b9 500.00"})]}),(0,m.jsxs)("tr",{className:"fw-bold",children:[(0,m.jsx)("td",{colSpan:2,children:"TOTAL"}),(0,m.jsxs)("td",{className:"text-end",children:["\u20b9 ",y(a)+500,".00"]})]})]})]})]})}),(0,m.jsx)("div",{className:"card mb-4",children:(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-lg-6",children:[(0,m.jsx)("h3",{className:"h6",children:"Payment Method"}),(0,m.jsx)("p",{children:a.paymentType}),(0,m.jsxs)("p",{children:["Total: \u20b9 ",y(a)+500,".00 ",(0,m.jsx)("span",{className:"badge bg-success rounded-pill",children:"Yes"===a.paid?"PAID":"UNPAID"})]})]}),(0,m.jsxs)("div",{className:"col-lg-6",children:[(0,m.jsx)("h3",{className:"h6",children:"Billing address"}),(0,m.jsxs)("address",{children:[(0,m.jsx)("strong",{children:a.shippingAddress.fullName}),(0,m.jsx)("br",{}),a.shippingAddress.houseNoOrBuildingName," ",a.shippingAddress.areaOrColony,", ",(0,m.jsx)("br",{}),a.shippingAddress.city,", ",a.shippingAddress.country," ",a.shippingAddress.zipOrPostalCode,(0,m.jsx)("br",{}),(0,m.jsx)("abbr",{title:"Phone",children:"P:"})," ",a.shippingAddress.phoneNumber]})]})]})})})]}),(0,m.jsx)("div",{className:"col-lg-4",children:(0,m.jsx)("div",{className:"card mb-4",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("h3",{className:"h6",children:"Shipping Information"}),(0,m.jsx)("strong",{children:"FedEx"}),(0,m.jsxs)("span",{children:[(0,m.jsx)(d.rU,{to:"#",className:"text-decoration-underline",target:"_blank",children:"FD5424512230"}),(0,m.jsx)("i",{className:"bi bi-box-arrow-up-right"})," "]}),(0,m.jsx)("hr",{}),(0,m.jsx)("h3",{className:"h6",children:"Address"}),(0,m.jsxs)("address",{children:[(0,m.jsx)("strong",{children:a.shippingAddress.fullName}),(0,m.jsx)("br",{}),a.shippingAddress.houseNoOrBuildingName," ",a.shippingAddress.areaOrColony,", ",(0,m.jsx)("br",{}),a.shippingAddress.city,", ",a.shippingAddress.country," ",a.shippingAddress.zipOrPostalCode,(0,m.jsx)("br",{}),(0,m.jsx)("abbr",{title:"Phone",children:"P:"})," ",a.shippingAddress.phoneNumber]})]})})})]})]}):Array(2).fill(0).map(((e,s)=>(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-lg-8",children:(0,m.jsx)("div",{className:"card mb-4",children:(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)(o.Z,{width:"100%",height:"100%",spacing:2,children:[(0,m.jsx)("div",{children:(0,m.jsx)(l.Z,{animation:"wave",variant:"rounded"})}),(0,m.jsx)("div",{children:(0,m.jsx)(l.Z,{animation:"wave",variant:"rounded"})}),(0,m.jsx)("div",{children:(0,m.jsx)(l.Z,{animation:"wave",variant:"rounded"})}),(0,m.jsx)("div",{children:(0,m.jsx)(l.Z,{animation:"wave",variant:"rounded"})}),(0,m.jsx)("div",{children:(0,m.jsx)(l.Z,{animation:"wave",variant:"rounded"})}),(0,m.jsx)("div",{children:(0,m.jsx)(l.Z,{animation:"wave",variant:"rounded"})})]})})})})},s)))})})}),(0,m.jsx)("section",{id:"copyrights",children:(0,m.jsx)("div",{className:"container",children:(0,m.jsxs)("div",{className:"copywrap",children:[(0,m.jsxs)("p",{children:["\xa9 2023 ",(0,m.jsx)(d.rU,{to:"https://www.pmgsuperstore.com",children:"pmgsuperstore.com"}),". All rights reserved"]}),(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:(0,m.jsx)(d.rU,{to:"#",children:"Privacy Policy"})}),(0,m.jsx)("li",{children:(0,m.jsx)(d.rU,{to:"#",children:"Terms of Use"})})]})]})})})]}),(0,m.jsx)(n.Z,{snackopen:x,setSnackOpen:j})]})}},2267:(e,s,a)=>{a.d(s,{$H:()=>j,A4:()=>A,H1:()=>i,J9:()=>x,Ml:()=>g,N$:()=>t,N_:()=>h,O9:()=>l,Of:()=>m,QX:()=>c,RE:()=>f,S:()=>S,UH:()=>y,UK:()=>u,X1:()=>N,_K:()=>p,hv:()=>v,k3:()=>b,kq:()=>w,n$:()=>r,rn:()=>o,uH:()=>k,ul:()=>Z,vo:()=>d});var n=a(3878);const t=async(e,s)=>await n.Z.post("/user/register/".concat(e),s),r=async e=>await n.Z.post("/user/login",e),i=async e=>await n.Z.get("/user/dashboard/".concat(e)),d=async()=>await n.Z.get("/user/getproducts"),c=async e=>await n.Z.get("/user/getproducts/".concat(e)),o=async e=>await n.Z.get("/user/verifyotp/".concat(e)),l=async()=>await n.Z.get("/user/productcategory"),h=async(e,s)=>await n.Z.get("/user/addordeletewishlist/".concat(e,"/").concat(s)),m=async(e,s)=>await n.Z.get("/user/addordeletecart/".concat(e,"/").concat(s)),u=async e=>await n.Z.get("/user/getcart/".concat(e)),p=async(e,s)=>await n.Z.put("/user/profileupdate/".concat(e),s),x=async(e,s)=>await n.Z.post("/user/checkout/".concat(e),s),j=async e=>await n.Z.get("/user/checkout/".concat(e)),g=async()=>await n.Z.get("https://restcountries.com/v3.1/all"),b=async e=>await n.Z.get("/user/shipping/".concat(e)),v=async(e,s)=>await n.Z.post("/user/shipping/".concat(e),s),w=async e=>await n.Z.post("/user/payment/orders",e),y=async(e,s)=>await n.Z.post("/user/payment/verify/".concat(e),s),N=async e=>await n.Z.get("/user/forgotpassword/".concat(e)),f=async e=>await n.Z.get("/user/verifyforgotpassword/".concat(e)),Z=async e=>await n.Z.post("/user/updatepassword/",e),k=async e=>await n.Z.get("/user/orderlist/".concat(e)),S=async e=>await n.Z.get("/user/getorder/".concat(e)),A=async e=>await n.Z.post("/user/downloadinvoice",{orderData:e},{responseType:"blob"})},7047:(e,s,a)=>{a.d(s,{Z:()=>U});var n=a(168),t=a(3366),r=a(7462),i=a(2791),d=a(3733),c=a(2554),o=a(4419);function l(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function h(e){return parseFloat(e)}var m=a(2065),u=a(6934),p=a(1402),x=a(5878),j=a(1217);function g(e){return(0,j.Z)("MuiSkeleton",e)}(0,x.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var b,v,w,y,N=a(184);const f=["animation","className","component","height","style","variant","width"];let Z,k,S,A;const C=(0,c.F4)(Z||(Z=b||(b=(0,n.Z)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),O=(0,c.F4)(k||(k=v||(v=(0,n.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),P=(0,u.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:a}=e;return[s.root,s[a.variant],!1!==a.animation&&s[a.animation],a.hasChildren&&s.withChildren,a.hasChildren&&!a.width&&s.fitContent,a.hasChildren&&!a.height&&s.heightAuto]}})((e=>{let{theme:s,ownerState:a}=e;const n=l(s.shape.borderRadius)||"px",t=h(s.shape.borderRadius);return(0,r.Z)({display:"block",backgroundColor:s.vars?s.vars.palette.Skeleton.bg:(0,m.Fq)(s.palette.text.primary,"light"===s.palette.mode?.11:.13),height:"1.2em"},"text"===a.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(t).concat(n,"/").concat(Math.round(t/.6*10)/10).concat(n),"&:empty:before":{content:'"\\00a0"'}},"circular"===a.variant&&{borderRadius:"50%"},"rounded"===a.variant&&{borderRadius:(s.vars||s).shape.borderRadius},a.hasChildren&&{"& > *":{visibility:"hidden"}},a.hasChildren&&!a.width&&{maxWidth:"fit-content"},a.hasChildren&&!a.height&&{height:"auto"})}),(e=>{let{ownerState:s}=e;return"pulse"===s.animation&&(0,c.iv)(S||(S=w||(w=(0,n.Z)(["\n      animation: "," 2s ease-in-out 0.5s infinite;\n    "]))),C)}),(e=>{let{ownerState:s,theme:a}=e;return"wave"===s.animation&&(0,c.iv)(A||(A=y||(y=(0,n.Z)(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 2s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),O,(a.vars||a).palette.action.hover)})),U=i.forwardRef((function(e,s){const a=(0,p.Z)({props:e,name:"MuiSkeleton"}),{animation:n="pulse",className:i,component:c="span",height:l,style:h,variant:m="text",width:u}=a,x=(0,t.Z)(a,f),j=(0,r.Z)({},a,{animation:n,component:c,variant:m,hasChildren:Boolean(x.children)}),b=(e=>{const{classes:s,variant:a,animation:n,hasChildren:t,width:r,height:i}=e,d={root:["root",a,n,t&&"withChildren",t&&!r&&"fitContent",t&&!i&&"heightAuto"]};return(0,o.Z)(d,g,s)})(j);return(0,N.jsx)(P,(0,r.Z)({as:c,ref:s,className:(0,d.Z)(b.root,i),ownerState:j},x,{style:(0,r.Z)({width:u,height:l},h)}))}))}}]);
//# sourceMappingURL=457.36b6169e.chunk.js.map