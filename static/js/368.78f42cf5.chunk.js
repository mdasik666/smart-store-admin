"use strict";(self.webpackChunkss_react=self.webpackChunkss_react||[]).push([[368],{7659:(e,a,s)=>{s.d(a,{n:()=>i});var t=s(1087),n=s(7689),r=s(184);const i=e=>{let{userData:a}=e;const s=(0,n.s0)();return(0,r.jsx)(r.Fragment,{children:a._id?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.rU,{to:"/user/dashboard/profile",className:"dropdown-item",children:"Profile"}),(0,r.jsx)(t.rU,{to:"/user/dashboard/cart",className:"dropdown-item",children:"Checkout"}),(0,r.jsx)("div",{className:"dropdown-item",onClick:()=>{localStorage.removeItem("usertoken"),s("/")},children:"Sign Out"})]}):(0,r.jsx)(t.rU,{to:"/user/login",className:"dropdown-item",children:"Login"})})}},9092:(e,a,s)=>{s.d(a,{Z:()=>i});var t=s(3543),n=s(9658),r=s(184);const i=e=>{const{snackopen:a,setSnackOpen:s}=e,i=(e,a)=>{"clickaway"!==a&&s({open:!1,severity:void 0,message:""})};return a.open&&(0,r.jsx)(t.Z,{open:a.open,autoHideDuration:6e3,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,r.jsx)(n.Z,{onClose:i,severity:a.severity,sx:{width:"100%"},children:a.message})})}},9368:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var t=s(2791),n=s(4270),r=s(2267),i=s(7689),o=s(1087),c=s(9092),d=s(7047),l=s(7659),h=s(184);function m(e){let a=new Date(e);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(a)}const u=()=>{const e=(0,i.s0)(),[a,s]=(0,t.useState)([]),[u,p]=(0,t.useState)(""),[x,g]=(0,t.useState)({open:!1,severity:void 0,message:""}),[j,w]=(0,t.useState)([]),[b,v]=(0,t.useState)({});(0,t.useEffect)((()=>{!async function(){if(localStorage.getItem("usertoken"))try{const a=await(0,r.H1)(String(localStorage.getItem("usertoken")));if("Success"===a.data.status){v(a.data.userData);const{_id:e}=a.data.userData,t=await(0,r.uH)(e);"Success"===t.data.status?s(t.data.orderList):p(t.data.message);const n=await(0,r.UK)(e);if("Success"===n.data.status){let e=n.data.cartData;w(e)}}else e("/user/login")}catch(a){g({open:!0,severity:"warning",message:a.message})}else e("/user/login")}()}),[e]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(n.q,{children:[(0,h.jsx)("title",{children:"Order List"}),(0,h.jsx)("link",{rel:"stylesheet",href:"/assets/css/OrderList.css"})]}),(0,h.jsxs)("section",{id:"wrapper",children:[(0,h.jsx)("header",{className:"shadow ",children:(0,h.jsx)("div",{className:"container",children:(0,h.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-between justify-content-lg-between",children:[(0,h.jsx)("div",{className:"col-md-5",children:(0,h.jsx)("h1",{className:"cartTitle",children:(0,h.jsx)(o.rU,{to:"/user/dashboard/cart",className:"d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none",children:(0,h.jsxs)("span",{children:[(0,h.jsx)("i",{className:"fa-solid fa-arrow-left"})," Orders"]})})})}),(0,h.jsxs)("div",{className:"mobiBar",children:[(0,h.jsxs)("button",{className:"btn btn-primary",onClick:()=>e("/user/dashboard/products"),children:[(0,h.jsx)("i",{className:"fa-regular fa-compass"})," Explore"]}),(0,h.jsxs)("button",{id:"userProf",className:"transBtn",onClick:()=>e("/user/dashboard/profile"),children:[(0,h.jsx)("i",{className:"fa-regular fa-user"}),(0,h.jsx)("span",{children:"Profile"})]}),(0,h.jsxs)("button",{id:"ordersMenu",className:"transBtn",children:[(0,h.jsx)("i",{className:"fa-regular fa-file-lines"}),(0,h.jsx)("span",{children:"Orders"})]}),(0,h.jsxs)("button",{id:"cartAdd",className:"transBtn",onClick:()=>e("/user/dashboard/cart"),children:[(0,h.jsx)("b",{children:j.length}),(0,h.jsx)("i",{className:"fa-solid fa-cart-shopping"}),(0,h.jsx)("span",{children:"Cart"})]}),(0,h.jsxs)("div",{className:"dropdown show",children:[(0,h.jsx)("button",{id:"toggleMenu dropdown-toggle",className:"transBtn","data-toggle":"dropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,h.jsx)("i",{className:"fa-solid fa-bars"})}),(0,h.jsx)("div",{className:"dropdown-menu","aria-labelledby":"optBar",role:"menu",children:(0,h.jsx)(l.n,{userData:b})})]})]})]})})}),(0,h.jsx)("section",{className:"myorder-section mt-5 mb-3",children:(0,h.jsx)("div",{className:"container",children:(0,h.jsx)("div",{className:"row  justify-content-center",children:(0,h.jsxs)("div",{className:"col-lg-8 col-sm-12",children:[(0,h.jsx)("div",{className:"d-flex justify-content-between align-items-center py-3",children:(0,h.jsxs)("h2",{className:"h5 mb-0",children:[(0,h.jsx)(o.rU,{to:"#",className:"text-muted"})," My Orders"]})}),(0,h.jsx)("div",{className:"tab-content",id:"myTabContent",children:(0,h.jsx)("div",{className:"tab-pane fade active show",id:"orders",role:"tabpanel","aria-labelledby":"orders-tab",children:a.length?a.map(((e,a)=>(0,h.jsx)("div",{className:"bg-white card mb-4 order-list shadow-sm",children:(0,h.jsx)("div",{className:"gold-members p-4",children:(0,h.jsx)("div",{className:"media",children:(0,h.jsxs)("div",{className:"media-body",children:[(0,h.jsx)("div",{children:(0,h.jsxs)("span",{className:"float-right text-warning mb-2",children:[e.deliveryStatus," on ","Ordered"===e.deliveryStatus?m(e.createdAt):m(e.updatedAt)]})}),(0,h.jsx)("h6",{className:"mb-2",children:(0,h.jsxs)("div",{className:"text-black text-gray mb-3",children:[(0,h.jsx)("i",{className:"fa fa-truck mr-2","aria-hidden":"true"}),"ORDER ",e._id]})}),(0,h.jsx)("p",{className:"mt-3 mb-2",children:(0,h.jsx)("b",{children:"Address:"})}),(0,h.jsxs)("p",{className:"text-gray mb-1",children:[(0,h.jsx)("i",{className:"icofont-location-arrow"}),(0,h.jsxs)("address",{children:[(0,h.jsx)("strong",{children:e.shippingAddress.fullName}),(0,h.jsx)("br",{}),e.shippingAddress.houseNoOrBuildingName," ",e.shippingAddress.areaOrColony,", ",(0,h.jsx)("br",{}),e.shippingAddress.city,", ",e.shippingAddress.country," ",e.shippingAddress.zipOrPostalCode,(0,h.jsx)("br",{}),(0,h.jsx)("abbr",{title:"Phone",children:"P:"})," ",e.shippingAddress.phoneNumber]})]}),(0,h.jsx)("p",{className:"mt-3 mb-2",children:(0,h.jsx)("b",{children:"Products:"})}),(0,h.jsx)("p",{className:"text-dark",children:e.orderedProducts.map((e=>e.quantityAndTypeAndPrice.map((a=>(0,h.jsxs)("div",{children:[e.productName,": ",a.price," x ",a.userQuantity," = ",e.quantityAndTypeAndPrice.reduce(((e,a)=>e+a.userQuantity*a.price),0)]},e._id)))))}),(0,h.jsx)("hr",{}),(0,h.jsxs)("div",{className:"float-right",children:[(0,h.jsxs)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>(async e=>{try{const a=await(0,r.A4)(e);if("Failed"!==a.data.status){const e=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=e,s.download="invoice.pdf",document.body.appendChild(s),s.click(),document.body.removeChild(s)}else g({open:!0,severity:"error",message:a.data.message})}catch(a){g({open:!0,severity:"warning",message:a.message})}})(e),children:[(0,h.jsx)("i",{className:"icofont-headphone-alt"}),"Get Invoice"]}),(0,h.jsxs)(o.rU,{className:"btn btn-sm btn-primary",to:"/user/dashboard/order/".concat(e._id),children:[(0,h.jsx)("i",{className:"icofont-refresh"}),"View Details"]})]}),(0,h.jsxs)("p",{className:"mb-0 text-black text-primary pt-2",children:[(0,h.jsx)("span",{className:"text-black font-weight-bold",children:"Total Paid:"})," ",e.orderedProducts.reduce(((e,a)=>e+a.quantityAndTypeAndPrice.reduce(((e,a)=>e+a.userQuantity*a.price),0)),0)]})]})})})},a))):u?(0,h.jsx)("div",{children:u}):Array(3).fill(0).map(((e,a)=>(0,h.jsx)("div",{className:"bg-white card mb-4 order-list shadow-sm",children:(0,h.jsx)("div",{className:"gold-members p-4",children:(0,h.jsx)("div",{className:"media",children:(0,h.jsxs)("div",{className:"media-body",children:[(0,h.jsx)("div",{children:(0,h.jsx)(d.Z,{animation:"wave",variant:"rounded"})}),(0,h.jsx)("h6",{className:"m-2",children:(0,h.jsx)(d.Z,{animation:"wave",variant:"rounded"})}),(0,h.jsx)("p",{className:"mt-3 mb-2",children:(0,h.jsx)(d.Z,{animation:"wave",variant:"rounded"})}),(0,h.jsxs)("p",{className:"text-gray mb-1",children:[(0,h.jsx)("i",{className:"icofont-location-arrow"}),(0,h.jsx)("address",{children:(0,h.jsx)(d.Z,{animation:"wave",variant:"rounded",height:60})})]}),(0,h.jsx)("p",{className:"mt-3 mb-2",children:(0,h.jsx)(d.Z,{animation:"wave",variant:"rounded"})}),(0,h.jsx)("p",{className:"text-dark",children:(0,h.jsx)(d.Z,{animation:"wave",variant:"rounded"})}),(0,h.jsx)("hr",{}),(0,h.jsx)("div",{className:"float-right",children:(0,h.jsx)(d.Z,{animation:"wave",variant:"rounded"})}),(0,h.jsx)("p",{className:"mb-0 text-black text-primary pt-2",children:(0,h.jsx)(d.Z,{animation:"wave",variant:"rounded"})})]})})})},a)))})})]})})})}),(0,h.jsx)("section",{id:"copyrights",children:(0,h.jsx)("div",{className:"container",children:(0,h.jsxs)("div",{className:"copywrap",children:[(0,h.jsxs)("p",{children:["\xa9 2023 ",(0,h.jsx)(o.rU,{to:"https://www.pmgsuperstore.com",children:"pmgsuperstore.com"}),". All rights reserved"]}),(0,h.jsxs)("ul",{children:[(0,h.jsx)("li",{children:(0,h.jsx)(o.rU,{to:"#",children:"Privacy Policy"})}),(0,h.jsx)("li",{children:(0,h.jsx)(o.rU,{to:"#",children:"Terms of Use"})})]})]})})})]}),(0,h.jsx)(c.Z,{snackopen:x,setSnackOpen:g})]})}},2267:(e,a,s)=>{s.d(a,{$H:()=>g,A4:()=>S,H1:()=>i,J9:()=>x,Ml:()=>j,N$:()=>n,N_:()=>h,O9:()=>l,Of:()=>m,QX:()=>c,RE:()=>N,S:()=>C,UH:()=>y,UK:()=>u,X1:()=>f,_K:()=>p,hv:()=>b,k3:()=>w,kq:()=>v,n$:()=>r,rn:()=>d,uH:()=>k,ul:()=>Z,vo:()=>o});var t=s(3878);const n=async(e,a)=>await t.Z.post("/user/register/".concat(e),a),r=async e=>await t.Z.post("/user/login",e),i=async e=>await t.Z.get("/user/dashboard/".concat(e)),o=async()=>await t.Z.get("/user/getproducts"),c=async e=>await t.Z.get("/user/getproducts/".concat(e)),d=async e=>await t.Z.get("/user/verifyotp/".concat(e)),l=async()=>await t.Z.get("/user/productcategory"),h=async(e,a)=>await t.Z.get("/user/addordeletewishlist/".concat(e,"/").concat(a)),m=async(e,a)=>await t.Z.get("/user/addordeletecart/".concat(e,"/").concat(a)),u=async e=>await t.Z.get("/user/getcart/".concat(e)),p=async(e,a)=>await t.Z.put("/user/profileupdate/".concat(e),a),x=async(e,a)=>await t.Z.post("/user/checkout/".concat(e),a),g=async e=>await t.Z.get("/user/checkout/".concat(e)),j=async()=>await t.Z.get("https://restcountries.com/v3.1/all"),w=async e=>await t.Z.get("/user/shipping/".concat(e)),b=async(e,a)=>await t.Z.post("/user/shipping/".concat(e),a),v=async e=>await t.Z.post("/user/payment/orders",e),y=async(e,a)=>await t.Z.post("/user/payment/verify/".concat(e),a),f=async e=>await t.Z.get("/user/forgotpassword/".concat(e)),N=async e=>await t.Z.get("/user/verifyforgotpassword/".concat(e)),Z=async e=>await t.Z.post("/user/updatepassword/",e),k=async e=>await t.Z.get("/user/orderlist/".concat(e)),C=async e=>await t.Z.get("/user/getorder/".concat(e)),S=async e=>await t.Z.post("/user/downloadinvoice",{orderData:e},{responseType:"blob"})},7047:(e,a,s)=>{s.d(a,{Z:()=>U});var t=s(168),n=s(3366),r=s(7462),i=s(2791),o=s(3733),c=s(2554),d=s(4419);function l(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function h(e){return parseFloat(e)}var m=s(2065),u=s(6934),p=s(1402),x=s(5878),g=s(1217);function j(e){return(0,g.Z)("MuiSkeleton",e)}(0,x.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var w,b,v,y,f=s(184);const N=["animation","className","component","height","style","variant","width"];let Z,k,C,S;const A=(0,c.F4)(Z||(Z=w||(w=(0,t.Z)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),O=(0,c.F4)(k||(k=b||(b=(0,t.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),P=(0,u.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.root,a[s.variant],!1!==s.animation&&a[s.animation],s.hasChildren&&a.withChildren,s.hasChildren&&!s.width&&a.fitContent,s.hasChildren&&!s.height&&a.heightAuto]}})((e=>{let{theme:a,ownerState:s}=e;const t=l(a.shape.borderRadius)||"px",n=h(a.shape.borderRadius);return(0,r.Z)({display:"block",backgroundColor:a.vars?a.vars.palette.Skeleton.bg:(0,m.Fq)(a.palette.text.primary,"light"===a.palette.mode?.11:.13),height:"1.2em"},"text"===s.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(n).concat(t,"/").concat(Math.round(n/.6*10)/10).concat(t),"&:empty:before":{content:'"\\00a0"'}},"circular"===s.variant&&{borderRadius:"50%"},"rounded"===s.variant&&{borderRadius:(a.vars||a).shape.borderRadius},s.hasChildren&&{"& > *":{visibility:"hidden"}},s.hasChildren&&!s.width&&{maxWidth:"fit-content"},s.hasChildren&&!s.height&&{height:"auto"})}),(e=>{let{ownerState:a}=e;return"pulse"===a.animation&&(0,c.iv)(C||(C=v||(v=(0,t.Z)(["\n      animation: "," 2s ease-in-out 0.5s infinite;\n    "]))),A)}),(e=>{let{ownerState:a,theme:s}=e;return"wave"===a.animation&&(0,c.iv)(S||(S=y||(y=(0,t.Z)(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 2s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),O,(s.vars||s).palette.action.hover)})),U=i.forwardRef((function(e,a){const s=(0,p.Z)({props:e,name:"MuiSkeleton"}),{animation:t="pulse",className:i,component:c="span",height:l,style:h,variant:m="text",width:u}=s,x=(0,n.Z)(s,N),g=(0,r.Z)({},s,{animation:t,component:c,variant:m,hasChildren:Boolean(x.children)}),w=(e=>{const{classes:a,variant:s,animation:t,hasChildren:n,width:r,height:i}=e,o={root:["root",s,t,n&&"withChildren",n&&!r&&"fitContent",n&&!i&&"heightAuto"]};return(0,d.Z)(o,j,a)})(g);return(0,f.jsx)(P,(0,r.Z)({as:c,ref:a,className:(0,o.Z)(w.root,i),ownerState:g},x,{style:(0,r.Z)({width:u,height:l},h)}))}))}}]);
//# sourceMappingURL=368.78f42cf5.chunk.js.map