"use strict";(self.webpackChunkss_react=self.webpackChunkss_react||[]).push([[350],{7659:(e,a,t)=>{t.d(a,{n:()=>r});var s=t(1087),n=t(7689),i=t(184);const r=e=>{let{userData:a}=e;const t=(0,n.s0)();return(0,i.jsx)(i.Fragment,{children:a._id?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.rU,{to:"/user/dashboard/profile",className:"dropdown-item",children:"Profile"}),(0,i.jsx)(s.rU,{to:"/user/dashboard/cart",className:"dropdown-item",children:"Checkout"}),(0,i.jsx)("div",{className:"dropdown-item",onClick:()=>{localStorage.removeItem("usertoken"),t("/")},children:"Sign Out"})]}):(0,i.jsx)(s.rU,{to:"/user/login",className:"dropdown-item",children:"Login"})})}},9092:(e,a,t)=>{t.d(a,{Z:()=>r});var s=t(3543),n=t(9658),i=t(184);const r=e=>{const{snackopen:a,setSnackOpen:t}=e,r=(e,a)=>{"clickaway"!==a&&t({open:!1,severity:void 0,message:""})};return a.open&&(0,i.jsx)(s.Z,{open:a.open,autoHideDuration:6e3,onClose:r,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,i.jsx)(n.Z,{onClose:r,severity:a.severity,sx:{width:"100%"},children:a.message})})}},5350:(e,a,t)=>{t.r(a),t.d(a,{default:()=>m});var s=t(4270),n=t(7689),i=t(1087),r=t(2267),c=t(2791),l=t(9092),o=t(1582),d=t(7047),h=t(7659),u=t(184);const m=()=>{const e=(0,n.s0)(),[a,t]=(0,c.useState)({}),[m,p]=(0,c.useState)([]),[g,x]=(0,c.useState)([]),[y,j]=(0,c.useState)(!1),[f,w]=(0,c.useState)({open:!1,severity:void 0,message:""}),[v]=(0,c.useState)(500),[b,N]=(0,c.useState)("");(0,c.useEffect)((()=>{!async function(){if(localStorage.getItem("usertoken"))try{const a=await(0,r.H1)(String(localStorage.getItem("usertoken")));if("Failed"===a.data.status)e("/user/login");else{const{_id:e,fullName:s,email:n}=a.data.userData;t({_id:e,fullName:s,email:n}),j(!0);const i=await(0,r.UK)(e);if("Success"===i.data.status){let a=i.data.cartData;null===a||void 0===a||a.forEach((e=>{var a;null===(a=e.quantityAndTypeAndPrice)||void 0===a||a.forEach((e=>{e.userQuantity=0}))}));const t=await(0,r.$H)(e);if("Success"===t.data.status){let e=t.data.lastCheckoutProducts.lastCheckout;e.length?(x(e),null===a||void 0===a||a.forEach((a=>{let t=e.filter((e=>e._id===a._id))[0];t&&(a.quantityAndTypeAndPrice=t.quantityAndTypeAndPrice,a.isSelect=t.isSelect)})),p(a)):p(a)}else t.data.message.indexOf("not found")>-1?p(a):N(i.data.message)}else N(i.data.message);j(!1)}}catch(a){w({open:!0,severity:"warning",message:a.message}),j(!1)}else e("/user/login")}()}),[e]);const k=(e,a,t)=>{const s=m.map((s=>(s._id===a._id&&("+"===e?s.quantityAndTypeAndPrice[t].userQuantity+=1:s.quantityAndTypeAndPrice[t].userQuantity-=1),s)));p(s)},Z=()=>m.reduce(((e,a)=>e+(a.isSelect?a.quantityAndTypeAndPrice.reduce(((e,a)=>e+a.userQuantity*a.price),0):0)),0);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(s.q,{children:[(0,u.jsx)("title",{children:"Cart"}),(0,u.jsx)("link",{rel:"stylesheet",href:"/assets/css/Cart.css"})]}),(0,u.jsxs)("section",{id:"wrapper",children:[(0,u.jsx)("header",{className:"shadow ",children:(0,u.jsx)("div",{className:"container",children:(0,u.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-between justify-content-lg-between",children:[(0,u.jsx)("div",{className:"col-md-5",children:(0,u.jsx)("h1",{className:"cartTitle",children:(0,u.jsxs)(i.rU,{to:"/user/dashboard",className:"d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none",children:[(0,u.jsxs)("span",{children:[(0,u.jsx)("i",{className:"fa-solid fa-arrow-left"})," Shopping Cart"]}),(0,u.jsxs)("span",{children:[" (",(0,u.jsx)("span",{id:"cartItem",children:m.length})," Items In Cart)"]})]})})}),(0,u.jsxs)("div",{className:"mobiBar",children:[(0,u.jsxs)("button",{className:"btn btn-primary",onClick:()=>e("/user/dashboard/products"),children:[(0,u.jsx)("i",{className:"fa-regular fa-compass"})," Explore"]}),(0,u.jsxs)("button",{id:"userProf",className:"transBtn",onClick:()=>e("/user/dashboard/profile"),children:[(0,u.jsx)("i",{className:"fa-regular fa-user"}),(0,u.jsx)("span",{children:"Profile"})]}),(0,u.jsxs)("button",{id:"ordersMenu",className:"transBtn",onClick:()=>e("/user/dashboard/orders"),children:[(0,u.jsx)("i",{className:"fa-regular fa-file-lines"}),(0,u.jsx)("span",{children:"Orders"})]}),(0,u.jsxs)("button",{id:"cartAdd",className:"transBtn",children:[(0,u.jsx)("b",{children:m.length}),(0,u.jsx)("i",{className:"fa-solid fa-cart-shopping"}),(0,u.jsx)("span",{children:"Cart"})]}),(0,u.jsxs)("div",{className:"dropdown show",children:[(0,u.jsx)("button",{id:"toggleMenu dropdown-toggle",className:"transBtn","data-toggle":"dropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,u.jsx)("i",{className:"fa-solid fa-bars"})}),(0,u.jsx)("div",{className:"dropdown-menu","aria-labelledby":"optBar",role:"menu",children:(0,u.jsx)(h.n,{userData:a})})]})]})]})})}),(0,u.jsx)("section",{id:"plWrap",children:(0,u.jsx)("div",{className:"container",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-lg-9 col-md-12 col-sm-12",children:[(0,u.jsxs)("div",{className:"form-check rememberWrap",children:[(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",checked:m.length===g.length,onChange:()=>{let e;m.length===g.length?(e=m.map((e=>(e.isSelect=!1,e))),x((()=>[]))):(e=m.map((e=>(e.isSelect=!0,e))),x(e)),p(e)},id:"selectAllitems"}),(0,u.jsxs)("label",{className:"form-check-label",htmlFor:"selectAllitems",children:["Select all ",m.length," items"]})]}),(0,u.jsx)("div",{className:"row cart-list",children:(0,u.jsx)("div",{className:"col-md-12",children:m.length>0?m.map(((e,a)=>(0,u.jsxs)("div",{className:"cart-item shadow",children:[(0,u.jsxs)("div",{className:"inputWrap",children:[(0,u.jsx)("input",{type:"checkbox",onChange:()=>(e=>{let a=m.map((a=>(a._id===e&&(a.isSelect=!a.isSelect),a)));p(a);let t=a.filter((e=>e.isSelect));x(t)})(e._id),checked:!(null===e||void 0===e||!e.isSelect),id:"cart".concat(a)}),(0,u.jsx)("label",{htmlFor:"cart".concat(a),children:"\xa0"})]}),(0,u.jsx)("img",{src:e.image.toString(),alt:"Product ".concat(a)}),(0,u.jsxs)("div",{className:"cart-detail",children:[(0,u.jsx)("span",{className:"title",children:e.productName}),(0,u.jsx)("div",{className:"count",children:(0,u.jsx)("ul",{children:e.quantityAndTypeAndPrice.map(((a,t)=>(0,u.jsxs)("li",{children:[(0,u.jsxs)("span",{className:"measure",children:[a.quantity," ",a.type]}),(0,u.jsx)("span",{className:"amount",children:a.price}),(0,u.jsxs)("div",{className:"input-group",children:[(0,u.jsx)("span",{className:"input-group-btn",children:(0,u.jsx)("button",{type:"button",onClick:()=>k("-",e,t),className:"btn btn-default btn-number",disabled:0===a.userQuantity,"data-type":"minus","data-field":"quant[".concat(t,"]"),children:(0,u.jsx)("span",{className:"fa fa-minus"})})}),(0,u.jsx)("input",{type:"text",name:"quant[".concat(t,"]"),className:"form-control input-number",disabled:!0,value:a.userQuantity}),(0,u.jsx)("span",{className:"input-group-btn",children:(0,u.jsx)("button",{onClick:()=>k("+",e,t),type:"button",className:"btn btn-default btn-number","data-type":"plus","data-field":"quant[".concat(t,"]"),children:(0,u.jsx)("span",{className:"fa fa-plus"})})})]})]},t)))})}),(0,u.jsxs)("span",{className:"price",children:["\u20b9 ",e.quantityAndTypeAndPrice.reduce(((e,a)=>e+a.price*a.userQuantity),0)]})]})]},a))):b?(0,u.jsx)("div",{className:"text-center p-3",children:b}):Array(2).fill(0).map(((e,a)=>(0,u.jsx)("div",{className:"cart-item shadow",style:{width:"100%"},children:(0,u.jsxs)(o.Z,{direction:"row",width:"100%",height:"100%",spacing:2,children:[(0,u.jsx)(o.Z,{flex:1,children:(0,u.jsx)(d.Z,{animation:"wave",variant:"rounded",width:"100%",height:"100%"})}),(0,u.jsxs)(o.Z,{flex:3,spacing:2,children:[(0,u.jsx)(d.Z,{animation:"wave",variant:"rounded",width:"100%"}),(0,u.jsx)(d.Z,{animation:"wave",variant:"rounded",width:"100%"}),(0,u.jsx)(d.Z,{animation:"wave",variant:"rounded",width:"100%"})]})]})},a)))})})]}),(0,u.jsx)("div",{className:"col-lg-3 col-md-12 col-sm-12",children:(0,u.jsxs)("section",{id:"sideWrap",className:"shadow cartside",children:[(0,u.jsxs)("section",{className:"cartpanel",children:[(0,u.jsx)("div",{className:"panel-head",children:"invoice"}),(0,u.jsxs)("div",{className:"panel-body",children:[(0,u.jsx)("span",{className:"subTitle",children:"Cart subtotal"}),(0,u.jsxs)("ul",{children:[(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Item(s) total"}),(0,u.jsxs)("span",{children:["\u20b9 ",Z()]})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Shipping fee"}),(0,u.jsxs)("span",{children:["\u20b9 ",v]})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Cart Total"}),(0,u.jsxs)("span",{children:["\u20b9 ",Z()+v]})]})]})]})]}),(0,u.jsx)("div",{className:"d-flex justify-content-center",children:(0,u.jsxs)("button",{onClick:async()=>{let t=JSON.parse(JSON.stringify(g));if(t.length){let n=t.map((e=>(e.quantityAndTypeAndPrice=e.quantityAndTypeAndPrice.filter((e=>e.userQuantity>0)),e)));if(n.filter((e=>0===e.quantityAndTypeAndPrice.length)).length)w({open:!0,severity:"warning",message:"Selected items quantity is 0. Check cart list"});else{let t=n.filter((e=>e.quantityAndTypeAndPrice.length>0));if(t.length)try{j(!0);const s=await(0,r.J9)(a._id,{userId:a._id,checkOutProducts:t,lastCheckout:g,totalPrice:Z(),shippingFee:v});"Success"===s.data.status?e("/user/dashboard/checkout"):w({open:!0,severity:"error",message:s.data.message}),j(!1)}catch(s){j(!1),w({open:!0,severity:"warning",message:s.message})}else w({open:!0,severity:"warning",message:"Select any one product"})}}else w({open:!0,severity:"warning",message:"Select minimum one item from cart"})},className:"btn btn-primary",disabled:y,children:["Checkout ",g.length>0?g.length:0," items"]})})]})})]})})}),(0,u.jsx)("section",{id:"copyrights",children:(0,u.jsx)("div",{className:"container",children:(0,u.jsxs)("div",{className:"copywrap",children:[(0,u.jsxs)("p",{children:["\xa9 2023 ",(0,u.jsx)(i.rU,{to:"https://www.pmgsuperstore.com",children:"pmgsuperstore.com"}),". All rights reserved"]}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:(0,u.jsx)(i.rU,{to:"#",children:"Privacy Policy"})}),(0,u.jsx)("li",{children:(0,u.jsx)(i.rU,{to:"#",children:"Terms of Use"})})]})]})})})]}),(0,u.jsx)(l.Z,{snackopen:f,setSnackOpen:w})]})}},2267:(e,a,t)=>{t.d(a,{$H:()=>x,A4:()=>C,H1:()=>r,J9:()=>g,Ml:()=>y,N$:()=>n,N_:()=>h,O9:()=>d,Of:()=>u,QX:()=>l,RE:()=>N,S:()=>S,UH:()=>v,UK:()=>m,X1:()=>b,_K:()=>p,hv:()=>f,k3:()=>j,kq:()=>w,n$:()=>i,rn:()=>o,uH:()=>Z,ul:()=>k,vo:()=>c});var s=t(3878);const n=async(e,a)=>await s.Z.post("/user/register/".concat(e),a),i=async e=>await s.Z.post("/user/login",e),r=async e=>await s.Z.get("/user/dashboard/".concat(e)),c=async()=>await s.Z.get("/user/getproducts"),l=async e=>await s.Z.get("/user/getproducts/".concat(e)),o=async e=>await s.Z.get("/user/verifyotp/".concat(e)),d=async()=>await s.Z.get("/user/productcategory"),h=async(e,a)=>await s.Z.get("/user/addordeletewishlist/".concat(e,"/").concat(a)),u=async(e,a)=>await s.Z.get("/user/addordeletecart/".concat(e,"/").concat(a)),m=async e=>await s.Z.get("/user/getcart/".concat(e)),p=async(e,a)=>await s.Z.put("/user/profileupdate/".concat(e),a),g=async(e,a)=>await s.Z.post("/user/checkout/".concat(e),a),x=async e=>await s.Z.get("/user/checkout/".concat(e)),y=async()=>await s.Z.get("https://restcountries.com/v3.1/all"),j=async e=>await s.Z.get("/user/shipping/".concat(e)),f=async(e,a)=>await s.Z.post("/user/shipping/".concat(e),a),w=async e=>await s.Z.post("/user/payment/orders",e),v=async(e,a)=>await s.Z.post("/user/payment/verify/".concat(e),a),b=async e=>await s.Z.get("/user/forgotpassword/".concat(e)),N=async e=>await s.Z.get("/user/verifyforgotpassword/".concat(e)),k=async e=>await s.Z.post("/user/updatepassword/",e),Z=async e=>await s.Z.get("/user/orderlist/".concat(e)),S=async e=>await s.Z.get("/user/getorder/".concat(e)),C=async e=>await s.Z.post("/user/downloadinvoice",{orderData:e},{responseType:"blob"})},7047:(e,a,t)=>{t.d(a,{Z:()=>T});var s=t(168),n=t(3366),i=t(7462),r=t(2791),c=t(3733),l=t(2554),o=t(4419);function d(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function h(e){return parseFloat(e)}var u=t(2065),m=t(6934),p=t(1402),g=t(5878),x=t(1217);function y(e){return(0,x.Z)("MuiSkeleton",e)}(0,g.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var j,f,w,v,b=t(184);const N=["animation","className","component","height","style","variant","width"];let k,Z,S,C;const A=(0,l.F4)(k||(k=j||(j=(0,s.Z)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),P=(0,l.F4)(Z||(Z=f||(f=(0,s.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),q=(0,m.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,a[t.variant],!1!==t.animation&&a[t.animation],t.hasChildren&&a.withChildren,t.hasChildren&&!t.width&&a.fitContent,t.hasChildren&&!t.height&&a.heightAuto]}})((e=>{let{theme:a,ownerState:t}=e;const s=d(a.shape.borderRadius)||"px",n=h(a.shape.borderRadius);return(0,i.Z)({display:"block",backgroundColor:a.vars?a.vars.palette.Skeleton.bg:(0,u.Fq)(a.palette.text.primary,"light"===a.palette.mode?.11:.13),height:"1.2em"},"text"===t.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(n).concat(s,"/").concat(Math.round(n/.6*10)/10).concat(s),"&:empty:before":{content:'"\\00a0"'}},"circular"===t.variant&&{borderRadius:"50%"},"rounded"===t.variant&&{borderRadius:(a.vars||a).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})}),(e=>{let{ownerState:a}=e;return"pulse"===a.animation&&(0,l.iv)(S||(S=w||(w=(0,s.Z)(["\n      animation: "," 2s ease-in-out 0.5s infinite;\n    "]))),A)}),(e=>{let{ownerState:a,theme:t}=e;return"wave"===a.animation&&(0,l.iv)(C||(C=v||(v=(0,s.Z)(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 2s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),P,(t.vars||t).palette.action.hover)})),T=r.forwardRef((function(e,a){const t=(0,p.Z)({props:e,name:"MuiSkeleton"}),{animation:s="pulse",className:r,component:l="span",height:d,style:h,variant:u="text",width:m}=t,g=(0,n.Z)(t,N),x=(0,i.Z)({},t,{animation:s,component:l,variant:u,hasChildren:Boolean(g.children)}),j=(e=>{const{classes:a,variant:t,animation:s,hasChildren:n,width:i,height:r}=e,c={root:["root",t,s,n&&"withChildren",n&&!i&&"fitContent",n&&!r&&"heightAuto"]};return(0,o.Z)(c,y,a)})(x);return(0,b.jsx)(q,(0,i.Z)({as:l,ref:a,className:(0,c.Z)(j.root,r),ownerState:x},g,{style:(0,i.Z)({width:m,height:d},h)}))}))}}]);
//# sourceMappingURL=350.aae3adf7.chunk.js.map